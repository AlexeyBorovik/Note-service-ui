"use strict";(self.webpackChunkswatonotes=self.webpackChunkswatonotes||[]).push([[374],{2374:(B,_,s)=>{s.r(_),s.d(_,{AuthModule:()=>Q});var f=s(5566),c=s(8698),i=s(4765),e=s(3824),g=s(9318),w=s(4467),h=s(4737),d=s(6998),l=s(8588),u=s(8237),v=s(8801),C=s(9391),Z=s(3330),P=s(5106);function b(r,a){1&r&&(e.TgZ(0,"mat-error",13),e._uU(1," Please enter a valid email address "),e.qZA())}function q(r,a){1&r&&(e.TgZ(0,"mat-error",14),e._uU(1," Email is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function I(r,a){1&r&&(e.TgZ(0,"mat-error",15),e._uU(1," Password is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function y(r,a){1&r&&e._UZ(0,"mat-progress-bar",16)}let R=(()=>{class r{constructor(o,t,n,m){this.router=o,this.titleService=t,this.notificationService=n,this.authenticationService=m}ngOnInit(){this.titleService.setTitle("angular-material-template - Login"),this.authenticationService.logout(),this.createForm()}createForm(){const o=localStorage.getItem("savedUserEmail");this.loginForm=new i.cw({email:new i.NI(o,[i.kI.required,i.kI.email]),password:new i.NI("",i.kI.required),rememberMe:new i.NI(null!==o)})}login(){var o,t,n;const m=null===(o=this.loginForm.get("email"))||void 0===o?void 0:o.value,p=null===(t=this.loginForm.get("password"))||void 0===t?void 0:t.value,M=null===(n=this.loginForm.get("rememberMe"))||void 0===n?void 0:n.value;this.loading=!0,this.authenticationService.login(m.toLowerCase(),p).subscribe(T=>{M?localStorage.setItem("savedUserEmail",m):localStorage.removeItem("savedUserEmail"),this.router.navigate(["/"])},T=>{this.notificationService.openSnackBar(T.error),this.loading=!1})}resetPassword(){this.router.navigate(["/auth/password-reset-request"])}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(c.F0),e.Y36(g.Dx),e.Y36(w.g),e.Y36(h.$))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:24,vars:6,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"container","login-container"],["fxFlex","30%","fxFlex.sm","50%","fxFlex.xs","90%",3,"formGroup"],[1,"full-width"],["id","emailInput","matInput","","placeholder","Email","formControlName","email","autocomplete","email","type","email"],["id","invalidEmailError",4,"ngIf"],["id","requiredEmailError",4,"ngIf"],["id","passwordInput","matInput","","placeholder","Password","formControlName","password","type","password","autocomplete","current-password"],["id","requiredPasswordError",4,"ngIf"],["formControlName","rememberMe"],[1,"login-actions"],["mat-raised-button","","id","login","color","primary",3,"disabled","click"],["mat-button","","id","resetPassword","type","button",3,"click"],["mode","indeterminate",4,"ngIf"],["id","invalidEmailError"],["id","requiredEmailError"],["id","requiredPasswordError"],["mode","indeterminate"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"form",1)(2,"mat-card")(3,"mat-card-title"),e._uU(4,"angular-material-template"),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6,"Log in to your account"),e.qZA(),e.TgZ(7,"mat-card-content")(8,"mat-form-field",2),e._UZ(9,"input",3),e.YNc(10,b,2,0,"mat-error",4),e.YNc(11,q,4,0,"mat-error",5),e.qZA(),e.TgZ(12,"mat-form-field",2),e._UZ(13,"input",6),e.YNc(14,I,4,0,"mat-error",7),e.qZA(),e.TgZ(15,"div",2)(16,"mat-slide-toggle",8),e._uU(17,"Remember my email address"),e.qZA()()(),e.TgZ(18,"mat-card-actions",9)(19,"button",10),e.NdJ("click",function(){return t.login()}),e._uU(20,"Login"),e.qZA(),e.TgZ(21,"button",11),e.NdJ("click",function(){return t.resetPassword()}),e._uU(22,"Reset Password"),e.qZA()()(),e.YNc(23,y,1,0,"mat-progress-bar",12),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("formGroup",t.loginForm),e.xp6(9),e.Q6J("ngIf",t.loginForm.controls.email.hasError("email")),e.xp6(1),e.Q6J("ngIf",t.loginForm.controls.email.hasError("required")),e.xp6(3),e.Q6J("ngIf",t.loginForm.controls.email.hasError("required")),e.xp6(5),e.Q6J("disabled",t.loginForm.invalid||t.loading),e.xp6(4),e.Q6J("ngIf",t.loading))},directives:[d.xw,d.Wh,i._Y,i.JL,d.yH,i.sg,l.a8,l.n5,l.$j,l.dn,u.KE,v.Nt,i.Fj,i.JJ,i.u,f.O5,u.TO,C.Rr,l.hq,Z.lW,P.pW],styles:[""]}),r})();function N(r,a){1&r&&(e.TgZ(0,"mat-error",10),e._uU(1," Please enter a valid email address "),e.qZA())}function A(r,a){1&r&&(e.TgZ(0,"mat-error",11),e._uU(1," Email is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function x(r,a){1&r&&e._UZ(0,"mat-progress-bar",12)}let J=(()=>{class r{constructor(o,t,n,m){this.authService=o,this.notificationService=t,this.titleService=n,this.router=m}ngOnInit(){var o;this.titleService.setTitle("angular-material-template - Password Reset Request"),this.form=new i.cw({email:new i.NI("",[i.kI.required,i.kI.email])}),null===(o=this.form.get("email"))||void 0===o||o.valueChanges.subscribe(t=>{this.email=t.toLowerCase()})}resetPassword(){this.loading=!0,this.authService.passwordResetRequest(this.email).subscribe(o=>{this.router.navigate(["/auth/login"]),this.notificationService.openSnackBar("Password verification mail has been sent to your email address.")},o=>{this.loading=!1,this.notificationService.openSnackBar(o.error)})}cancel(){this.router.navigate(["/"])}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(h.$),e.Y36(w.g),e.Y36(g.Dx),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-password-reset-request"]],decls:18,vars:5,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"container","login-container"],["fxFlex","30%","fxFlex.sm","50%","fxFlex.xs","90%",3,"formGroup"],[1,"full-width"],["id","emailInput","matInput","","placeholder","Email","formControlName","email","autocomplete","email","type","email"],["id","invalidEmailError",4,"ngIf"],["id","requiredEmailError",4,"ngIf"],[1,"login-actions"],["id","submit","mat-raised-button","","color","primary",3,"disabled","click"],["id","cancel","mat-button","",3,"click"],["mode","indeterminate",4,"ngIf"],["id","invalidEmailError"],["id","requiredEmailError"],["mode","indeterminate"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"form",1)(2,"mat-card")(3,"mat-card-title"),e._uU(4,"angular-material-template"),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6,"Reset your password"),e.qZA(),e.TgZ(7,"mat-card-content")(8,"mat-form-field",2),e._UZ(9,"input",3),e.YNc(10,N,2,0,"mat-error",4),e.YNc(11,A,4,0,"mat-error",5),e.qZA()(),e.TgZ(12,"mat-card-actions",6)(13,"button",7),e.NdJ("click",function(){return t.resetPassword()}),e._uU(14,"Reset Password"),e.qZA(),e.TgZ(15,"button",8),e.NdJ("click",function(){return t.cancel()}),e._uU(16,"Cancel"),e.qZA()()(),e.YNc(17,x,1,0,"mat-progress-bar",9),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(9),e.Q6J("ngIf",t.form.controls.email.hasError("email")),e.xp6(1),e.Q6J("ngIf",t.form.controls.email.hasError("required")),e.xp6(2),e.Q6J("disabled",t.form.invalid||t.loading),e.xp6(4),e.Q6J("ngIf",t.loading))},directives:[d.xw,d.Wh,i._Y,i.JL,d.yH,i.sg,l.a8,l.n5,l.$j,l.dn,u.KE,v.Nt,i.Fj,i.JJ,i.u,f.O5,u.TO,l.hq,Z.lW,P.pW],styles:[""]}),r})();var U=s(5761);function E(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a new password "),e.qZA())}function S(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a your current password "),e.qZA())}function F(r,a){1&r&&e._UZ(0,"mat-progress-bar",13)}const k=[{path:"login",component:R},{path:"password-reset-request",component:J},{path:"password-reset",component:(()=>{class r{constructor(o,t,n,m,p){this.activeRoute=o,this.router=t,this.authService=n,this.notificationService=m,this.titleService=p,this.titleService.setTitle("angular-material-template - Password Reset"),this.hideNewPassword=!0,this.hideNewPasswordConfirm=!0}ngOnInit(){this.activeRoute.queryParamMap.subscribe(o=>{this.token=o.get("token")+"",this.email=o.get("email")+"",(!this.token||!this.email)&&this.router.navigate(["/"])}),this.form=new i.cw({newPassword:new i.NI("",i.kI.required),newPasswordConfirm:new i.NI("",i.kI.required)})}resetPassword(){var o,t;const n=null===(o=this.form.get("newPassword"))||void 0===o?void 0:o.value,m=null===(t=this.form.get("newPasswordConfirm"))||void 0===t?void 0:t.value;n===m?(this.loading=!0,this.authService.passwordReset(this.email,this.token,n,m).subscribe(()=>{this.notificationService.openSnackBar("Your password has been changed."),this.router.navigate(["/auth/login"])},p=>{this.notificationService.openSnackBar(p.error),this.loading=!1})):this.notificationService.openSnackBar("Passwords do not match")}cancel(){this.router.navigate(["/"])}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(c.gz),e.Y36(c.F0),e.Y36(h.$),e.Y36(w.g),e.Y36(g.Dx))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-password-reset"]],decls:26,vars:10,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"container","login-container"],["fxFlex","30%","fxFlex.sm","50%","fxFlex.xs","90%",3,"formGroup"],[1,"full-width"],["id","emailInput","matInput","","readonly","","disabled","",3,"value"],["id","passwordInput","matInput","","placeholder","New Password","formControlName","newPassword","autocomplete","new-password",3,"type"],["id","togglePasswordVisibility","matSuffix","",3,"click"],[4,"ngIf"],["id","passwordConfirmInput","matInput","","placeholder","New Password Confirmation","formControlName","newPasswordConfirm","autocomplete","new-password",3,"type"],["id","togglePasswordConfirmVisibility","matSuffix","",3,"click"],[1,"login-actions"],["id","submit","mat-raised-button","","color","primary",3,"disabled","click"],["id","cancel","mat-button","",3,"click"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"form",1)(2,"mat-card")(3,"mat-card-title"),e._uU(4,"angular-material-template"),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6,"Reset your password"),e.qZA(),e.TgZ(7,"mat-card-content")(8,"mat-form-field",2),e._UZ(9,"input",3),e.qZA(),e.TgZ(10,"mat-form-field",2),e._UZ(11,"input",4),e.TgZ(12,"mat-icon",5),e.NdJ("click",function(){return t.hideNewPassword=!t.hideNewPassword}),e._uU(13),e.qZA(),e.YNc(14,E,2,0,"mat-error",6),e.qZA(),e.TgZ(15,"mat-form-field",2),e._UZ(16,"input",7),e.TgZ(17,"mat-icon",8),e.NdJ("click",function(){return t.hideNewPasswordConfirm=!t.hideNewPasswordConfirm}),e._uU(18),e.qZA(),e.YNc(19,S,2,0,"mat-error",6),e.qZA()(),e.TgZ(20,"mat-card-actions",9)(21,"button",10),e.NdJ("click",function(){return t.resetPassword()}),e._uU(22,"OK"),e.qZA(),e.TgZ(23,"button",11),e.NdJ("click",function(){return t.cancel()}),e._uU(24,"Back to Login"),e.qZA()()(),e.YNc(25,F,1,0,"mat-progress-bar",12),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(8),e.Q6J("value",t.email),e.xp6(2),e.Q6J("type",t.hideNewPassword?"password":"text"),e.xp6(2),e.hij(" ",t.hideNewPassword?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",t.form.controls.newPassword.hasError("required")),e.xp6(2),e.Q6J("type",t.hideNewPasswordConfirm?"password":"text"),e.xp6(2),e.hij(" ",t.hideNewPasswordConfirm?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",t.form.controls.newPasswordConfirm.hasError("required")),e.xp6(2),e.Q6J("disabled",t.form.invalid||t.loading),e.xp6(4),e.Q6J("ngIf",t.loading))},directives:[d.xw,d.Wh,i._Y,i.JL,d.yH,i.sg,l.a8,l.n5,l.$j,l.dn,u.KE,v.Nt,i.Fj,i.JJ,i.u,U.Hw,u.R9,f.O5,u.TO,l.hq,Z.lW,P.pW],styles:[""]}),r})()}];let Y=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[c.Bz.forChild(k)],c.Bz]}),r})();var L=s(6520);let Q=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[f.ez,L.m,Y]]}),r})()}}]);