"use strict";(self.webpackChunkswatonotes=self.webpackChunkswatonotes||[]).push([[479],{7479:(F,P,n)=>{n.r(P),n.d(P,{AccountModule:()=>B});var Z=n(5566),C=n(8698),t=n(1983),e=n(3824),y=n(9318),d=n(6998),A=n(8588),T=n(4737);let O=(()=>{class o{constructor(r){this.authService=r,this.fullName="",this.email="",this.alias=""}ngOnInit(){this.fullName=this.authService.getCurrentUser().fullName,this.email=this.authService.getCurrentUser().email}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(T.$))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile-details"]],decls:8,vars:4,consts:[[1,"profile-card"],["src","assets/images/user.png",3,"alt"],[1,"title"]],template:function(r,a){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"label"),e._uU(5),e.qZA(),e.TgZ(6,"label"),e._uU(7),e.qZA()()),2&r&&(e.xp6(1),e.Q6J("alt",a.fullName),e.xp6(2),e.hij(" ",a.fullName," "),e.xp6(2),e.hij(" ",a.alias," "),e.xp6(2),e.hij(" ",a.email," "))},styles:[".profile-card[_ngcontent-%COMP%]{text-align:center}"]}),o})();var M=n(4885),i=n(4765),E=n(6444),_=n(1962),L=n(4467),f=n(8237),h=n(8801),g=n(5761),D=n(3330);function I(o,s){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a your current password "),e.qZA())}function w(o,s){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a new password "),e.qZA())}function J(o,s){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please confirm your new password "),e.qZA())}let Q=(()=>{class o{constructor(r,a,u,c){this.authService=r,this.logger=a,this.spinnerService=u,this.notificationService=c,this.hideCurrentPassword=!0,this.hideNewPassword=!0}ngOnInit(){var r,a,u;this.form=new i.cw({currentPassword:new i.NI("",i.kI.required),newPassword:new i.NI("",i.kI.required),newPasswordConfirm:new i.NI("",i.kI.required)}),null===(r=this.form.get("currentPassword"))||void 0===r||r.valueChanges.subscribe(c=>{this.currentPassword=c}),null===(a=this.form.get("newPassword"))||void 0===a||a.valueChanges.subscribe(c=>{this.newPassword=c}),null===(u=this.form.get("newPasswordConfirm"))||void 0===u||u.valueChanges.subscribe(c=>{this.newPasswordConfirm=c}),this.spinnerService.visibility.subscribe(c=>{this.disableSubmit=c})}changePassword(){if(this.newPassword!==this.newPasswordConfirm)return void this.notificationService.openSnackBar("New passwords do not match.");const r=this.authService.getCurrentUser().email;this.authService.changePassword(r,this.currentPassword,this.newPassword).subscribe(a=>{this.logger.info(`User ${r} changed password.`),this.form.reset(),this.notificationService.openSnackBar("Your password has been changed.")},a=>{this.notificationService.openSnackBar(a.error)})}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(T.$),e.Y36(E.Kf),e.Y36(_.V),e.Y36(L.g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-change-password"]],decls:22,vars:11,consts:[[3,"formGroup"],["fxLayout","row"],["fxFlex","40%","fxFlex.md","60%","fxFlex.sm","50%","fxFlex.xs","100%"],[1,"full-width"],["matInput","","placeholder","Current Password","formControlName","currentPassword","autocomplete","current-password",3,"type"],["matSuffix","",3,"click"],[4,"ngIf"],["matInput","","placeholder","New Password","formControlName","newPassword","autocomplete","new-password",3,"type"],["matInput","","placeholder","Confirm New Password","formControlName","newPasswordConfirm","autocomplete","new-password",3,"type"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(r,a){1&r&&(e.TgZ(0,"form",0)(1,"p"),e._uU(2,"Use the form below to change your password."),e.qZA(),e.TgZ(3,"div",1)(4,"div",2)(5,"mat-form-field",3),e._UZ(6,"input",4),e.TgZ(7,"mat-icon",5),e.NdJ("click",function(){return a.hideCurrentPassword=!a.hideCurrentPassword}),e._uU(8),e.qZA(),e.YNc(9,I,2,0,"mat-error",6),e.qZA(),e.TgZ(10,"mat-form-field",3),e._UZ(11,"input",7),e.TgZ(12,"mat-icon",5),e.NdJ("click",function(){return a.hideNewPassword=!a.hideNewPassword}),e._uU(13),e.qZA(),e.YNc(14,w,2,0,"mat-error",6),e.qZA(),e.TgZ(15,"mat-form-field",3),e._UZ(16,"input",8),e.TgZ(17,"mat-icon",5),e.NdJ("click",function(){return a.hideNewPassword=!a.hideNewPassword}),e._uU(18),e.qZA(),e.YNc(19,J,2,0,"mat-error",6),e.qZA(),e.TgZ(20,"button",9),e.NdJ("click",function(){return a.changePassword()}),e._uU(21,"Save"),e.qZA()()()()),2&r&&(e.Q6J("formGroup",a.form),e.xp6(6),e.Q6J("type",a.hideCurrentPassword?"password":"text"),e.xp6(2),e.hij(" ",a.hideCurrentPassword?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",a.form.controls.currentPassword.hasError("required")),e.xp6(2),e.Q6J("type",a.hideNewPassword?"password":"text"),e.xp6(2),e.hij(" ",a.hideNewPassword?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",a.form.controls.newPassword.hasError("required")),e.xp6(2),e.Q6J("type",a.hideNewPassword?"password":"text"),e.xp6(2),e.hij(" ",a.hideNewPassword?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",a.form.controls.newPasswordConfirm.hasError("required")),e.xp6(1),e.Q6J("disabled",a.form.invalid||a.disableSubmit))},directives:[i._Y,i.JL,i.sg,d.xw,d.yH,f.KE,h.Nt,i.Fj,i.JJ,i.u,g.Hw,f.R9,Z.O5,f.TO,D.lW],styles:[".password-rules[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{position:unset!important}.container[_ngcontent-%COMP%]{padding-top:20px}"]}),o})();const x=[{path:"",component:t.$,children:[{path:"profile",component:(()=>{class o{constructor(r){this.titleService=r}ngOnInit(){this.titleService.setTitle("angular-material-template - Account")}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(y.Dx))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-account-page"]],decls:14,vars:0,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex","95%"],["fxLayout","row","fxLayout.sm","column","fxLayout.xs","column"],["fxFlex","30%","fxFlex.sm","95%","fxFlex.xs","95%"],["fxFlex",""],["fxFlex","65%","fxFlex.sm","95%","fxFlex.xs","950%"],["label","Change Password"]],template:function(r,a){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-content")(4,"h2"),e._uU(5,"My Profile"),e.qZA(),e.TgZ(6,"div",2)(7,"div",3),e._UZ(8,"app-profile-details"),e.qZA(),e._UZ(9,"div",4),e.TgZ(10,"div",5)(11,"mat-tab-group")(12,"mat-tab",6),e._UZ(13,"app-change-password"),e.qZA()()()()()()()())},directives:[d.xw,d.Wh,d.yH,A.a8,A.dn,O,M.SP,M.uX,Q],styles:[""]}),o})()}]}];let U=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[C.Bz.forChild(x)],C.Bz]}),o})();var S=n(6520);let B=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[Z.ez,S.m,U]]}),o})()},1983:(F,P,n)=>{n.d(P,{$:()=>q});var Z=n(8330),C=n(4840),t=n(3824),e=n(8730),y=n(1962),d=n(4737),A=n(3043),T=n(6846),O=n(3330),M=n(5761),i=n(8698),E=n(391),_=n(729),L=n(6907),f=n(3105),h=n(6879),g=n(3876),D=n(1208),I=n(4757),w=n(5566),J=n(5106);function Q(p,R){1&p&&t._UZ(0,"mat-progress-bar",27)}const N=function(){return["/"]},x=function(){return["/account/profile"]},U=function(){return["/auth/login"]},S=function(){return["/dashboard"]},B=function(){return["/notes/main"]},o=function(){return["/todo"]},s=function(){return["/notes/records"]},r=function(){return["/notes/sorting"]},a=function(){return["/users"]},u=function(){return["/icons"]},c=function(){return["/typography"]},K=function(){return["/about"]};let q=(()=>{class p{constructor(l,m,v,b,W){this.changeDetectorRef=l,this.media=m,this.spinnerService=v,this.authService=b,this.authGuard=W,this.showSpinner=!1,this.userName="",this.isAdmin=!1,this.autoLogoutSubscription=new C.w0,this.mobileQuery=this.media.matchMedia("(max-width: 1000px)"),this._mobileQueryListener=()=>l.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){const l=this.authService.getCurrentUser();this.isAdmin=l.isAdmin,this.userName=l.fullName;const m=(0,Z.H)(2e3,5e3);this.autoLogoutSubscription=m.subscribe(()=>{this.authGuard.canActivate()})}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener),this.autoLogoutSubscription.unsubscribe()}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}}return p.\u0275fac=function(l){return new(l||p)(t.Y36(t.sBO),t.Y36(e.vx),t.Y36(y.V),t.Y36(d.$),t.Y36(A.a))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-layout"]],decls:111,vars:41,consts:[[1,"navbar-container"],["color","primary",1,"navbar"],["mat-icon-button","",3,"click"],["matTooltip","Home",1,"navbar-brand",3,"routerLink"],[1,"navbar-spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["matBadge","2","matBadgeColor","accent"],["xPosition","before","yPosition","above",3,"overlapTrigger"],["notificationMenu","matMenu"],["mat-menu-item",""],["mat-button","",3,"matMenuTriggerFor"],["fxShow","","fxHide.xs",""],["userMenu","matMenu"],["mat-menu-item","",3,"routerLink"],[1,"navbar-sidenav-container"],["fixedTopGap","56",1,"sidenav",3,"opened","mode","fixedInViewport"],["snav",""],["mat-subheader",""],["mat-list-item","","routerLinkActive","active",3,"routerLink"],["mat-list-icon",""],["mat-line",""],["mat-list-item","",3,"routerLink"],["mat-list-item","","href","https://material.angular.io/components/categories","target","_blank"],["id","push-bottom","mat-list-item","","routerLinkActive","active",3,"routerLink"],[1,"sidenav-content"],[1,"progress-bar-container"],["color","accent","mode","indeterminate",4,"ngIf"],["color","accent","mode","indeterminate"]],template:function(l,m){if(1&l){const v=t.EpF();t.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"button",2),t.NdJ("click",function(){return t.CHM(v),t.MAs(39).toggle()}),t.TgZ(3,"mat-icon"),t._uU(4,"menu"),t.qZA()(),t.TgZ(5,"a",3)(6,"h1"),t._uU(7," angular-material-template "),t.qZA()(),t._UZ(8,"span",4),t.TgZ(9,"button",5)(10,"mat-icon",6),t._uU(11,"notifications"),t.qZA()(),t.TgZ(12,"mat-menu",7,8)(14,"a",9)(15,"span"),t._uU(16,"You have new tasks"),t.qZA()(),t.TgZ(17,"a",9)(18,"span"),t._uU(19,"You have a new message"),t.qZA()()(),t.TgZ(20,"button",10)(21,"mat-icon"),t._uU(22,"person"),t.qZA(),t.TgZ(23,"span",11),t._uU(24),t.qZA()(),t.TgZ(25,"mat-menu",7,12)(27,"a",13)(28,"mat-icon"),t._uU(29,"person"),t.qZA(),t.TgZ(30,"span"),t._uU(31,"Account"),t.qZA()(),t.TgZ(32,"a",13)(33,"mat-icon"),t._uU(34,"exit_to_app"),t.qZA(),t.TgZ(35,"span"),t._uU(36,"Log out"),t.qZA()()()(),t.TgZ(37,"mat-sidenav-container",14)(38,"mat-sidenav",15,16)(40,"mat-nav-list")(41,"h3",17),t._uU(42,"Home"),t.qZA(),t.TgZ(43,"a",18)(44,"mat-icon",19),t._uU(45," dashboard "),t.qZA(),t.TgZ(46,"p",20),t._uU(47," Dashboard "),t.qZA()(),t.TgZ(48,"a",18)(49,"mat-icon",19),t._uU(50," home_filled "),t.qZA(),t.TgZ(51,"p",20),t._uU(52," Main Page "),t.qZA()(),t.TgZ(53,"a",18)(54,"mat-icon",19),t._uU(55," dashboard "),t.qZA(),t.TgZ(56,"p",20),t._uU(57," Todo "),t.qZA()(),t.TgZ(58,"a",18)(59,"mat-icon",19),t._uU(60," notes "),t.qZA(),t.TgZ(61,"p",20),t._uU(62," Records "),t.qZA()(),t.TgZ(63,"a",18)(64,"mat-icon",19),t._uU(65," filter_alt "),t.qZA(),t.TgZ(66,"p",20),t._uU(67," Sorting "),t.qZA()(),t.TgZ(68,"a",18)(69,"mat-icon",19),t._uU(70," people "),t.qZA(),t.TgZ(71,"p",20),t._uU(72," Users "),t.qZA()(),t.TgZ(73,"a",21)(74,"mat-icon",19),t._uU(75,"person"),t.qZA(),t.TgZ(76,"p",20),t._uU(77," Account "),t.qZA()(),t.TgZ(78,"a",21)(79,"mat-icon",19),t._uU(80,"exit_to_app"),t.qZA(),t.TgZ(81,"p",20),t._uU(82," Log out "),t.qZA()(),t._UZ(83,"mat-divider"),t.TgZ(84,"h3",17),t._uU(85,"Resources"),t.qZA(),t.TgZ(86,"a",18)(87,"mat-icon",19),t._uU(88," toll "),t.qZA(),t.TgZ(89,"p",20),t._uU(90," Icons "),t.qZA()(),t.TgZ(91,"a",18)(92,"mat-icon",19),t._uU(93," font_download "),t.qZA(),t.TgZ(94,"p",20),t._uU(95," Typography "),t.qZA()(),t.TgZ(96,"a",22)(97,"mat-icon",19),t._uU(98," link "),t.qZA(),t.TgZ(99,"p",20),t._uU(100," Material Components "),t.qZA()(),t.TgZ(101,"a",23)(102,"mat-icon",19),t._uU(103," info_outline "),t.qZA(),t.TgZ(104,"p",20),t._uU(105," About "),t.qZA()()()(),t.TgZ(106,"mat-sidenav-content",24)(107,"div",25),t.YNc(108,Q,1,0,"mat-progress-bar",26),t.ALo(109,"async"),t.qZA(),t._UZ(110,"router-outlet"),t.qZA()()()}if(2&l){const v=t.MAs(13),b=t.MAs(26);t.ekj("example-is-mobile",m.mobileQuery.matches),t.xp6(5),t.Q6J("routerLink",t.DdM(27,N)),t.xp6(4),t.Q6J("matMenuTriggerFor",v),t.xp6(3),t.Q6J("overlapTrigger",!1),t.xp6(8),t.Q6J("matMenuTriggerFor",b),t.xp6(4),t.hij(" ",m.userName," "),t.xp6(1),t.Q6J("overlapTrigger",!1),t.xp6(2),t.Q6J("routerLink",t.DdM(28,x)),t.xp6(5),t.Q6J("routerLink",t.DdM(29,U)),t.xp6(6),t.Q6J("opened",!m.mobileQuery.matches)("mode",m.mobileQuery.matches?"over":"side")("fixedInViewport",m.mobileQuery.matches),t.xp6(5),t.Q6J("routerLink",t.DdM(30,S)),t.xp6(5),t.Q6J("routerLink",t.DdM(31,B)),t.xp6(5),t.Q6J("routerLink",t.DdM(32,o)),t.xp6(5),t.Q6J("routerLink",t.DdM(33,s)),t.xp6(5),t.Q6J("routerLink",t.DdM(34,r)),t.xp6(5),t.Q6J("routerLink",t.DdM(35,a)),t.xp6(5),t.Q6J("routerLink",t.DdM(36,x)),t.xp6(5),t.Q6J("routerLink",t.DdM(37,U)),t.xp6(8),t.Q6J("routerLink",t.DdM(38,u)),t.xp6(5),t.Q6J("routerLink",t.DdM(39,c)),t.xp6(10),t.Q6J("routerLink",t.DdM(40,K)),t.xp6(7),t.Q6J("ngIf",t.lcZ(109,25,m.spinnerService.visibility))}},directives:[T.Ye,O.lW,M.Hw,i.yS,E.gM,_.p6,L.k,_.VK,_.OP,f.b8,h.TM,h.JX,g.Hk,g.gs,g.Tg,i.Od,g.Nh,D.X2,I.d,h.Rh,w.O5,J.pW,i.lC],pipes:[w.Ov],styles:[".navbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.navbar[_ngcontent-%COMP%]{z-index:2}.navbar-brand[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.navbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.navbar-is-mobile[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{position:fixed;z-index:2}.navbar-sidenav-container[_ngcontent-%COMP%]{flex:1}.navbar-is-mobile[_ngcontent-%COMP%]   .navbar-sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}mat-sidenav[_ngcontent-%COMP%]{min-width:180px!important;border-right:1px solid #eee;box-shadow:6px 0 6px #0000001a}.progress-bar-container[_ngcontent-%COMP%]{height:5px}a.mat-list-item.active[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}#push-bottom[_ngcontent-%COMP%]{position:absolute;bottom:0}"]}),p})()}}]);